[gd_scene load_steps=33 format=3 uid="uid://do4q1xtyjh4u1"]

[ext_resource type="Script" path="res://scripts/world_2d_and_3d.gd" id="1_xm0yb"]
[ext_resource type="PackedScene" uid="uid://cske0mslikh06" path="res://scenes/weapon.tscn" id="2_01kl4"]
[ext_resource type="PackedScene" uid="uid://088brukj5isd" path="res://scenes/attack_waves/attack_wave_00.01.tscn" id="2_gni8t"]
[ext_resource type="Resource" uid="uid://b4cxfnq2h8wjw" path="res://resources/weapons/rubber_duck.tres" id="3_a6i1r"]
[ext_resource type="PackedScene" uid="uid://cytlgmc2lwfw3" path="res://scenes/attack_waves/attack_wave_00.02.tscn" id="3_njpqx"]
[ext_resource type="PackedScene" uid="uid://d1djw43u5ntsy" path="res://scenes/bedroom.tscn" id="4_03kti"]
[ext_resource type="PackedScene" uid="uid://ds4r8xs0lmc7t" path="res://assets/models/arms_low_poly.glb" id="5_6uldv"]
[ext_resource type="Resource" uid="uid://cru4xcly1jymk" path="res://resources/weapons/magnet_stick.tres" id="5_08cbb"]
[ext_resource type="PackedScene" uid="uid://dpwqagg3q62sb" path="res://scenes/attack_waves/attack_wave_00.04.tscn" id="5_xup8t"]
[ext_resource type="Material" uid="uid://dv106u84yak55" path="res://resources/materials/skin.tres" id="6_d81i7"]
[ext_resource type="PackedScene" uid="uid://b1hfgblyxoyaa" path="res://scenes/attack_waves/attack_wave_01.00.tscn" id="6_pkfoh"]
[ext_resource type="PackedScene" uid="uid://bf47cwgy3epgw" path="res://scenes/attack_waves/attack_wave_01.01.tscn" id="7_8inxn"]
[ext_resource type="PackedScene" uid="uid://chckwtnrrluej" path="res://scenes/ui/menu.tscn" id="7_mpqx2"]
[ext_resource type="PackedScene" uid="uid://cvfbmawame7tk" path="res://scenes/attack_waves/attack_wave_01.02.tscn" id="8_nbmmi"]
[ext_resource type="PackedScene" uid="uid://cin51xy4vc3le" path="res://scenes/attack_waves/attack_wave_01.03.tscn" id="9_1nvwp"]
[ext_resource type="PackedScene" uid="uid://c7gwwlspus7te" path="res://scenes/attack_waves/attack_wave_00.03.tscn" id="10_jelau"]
[ext_resource type="PackedScene" uid="uid://dqssatqko3wba" path="res://scenes/attack_waves/attack_wave_01.04.tscn" id="10_pmghl"]
[ext_resource type="PackedScene" uid="uid://dru08qgla30af" path="res://scenes/attack_waves/attack_wave_01.05.tscn" id="11_4w0vp"]
[ext_resource type="PackedScene" uid="uid://cyt7q77mk5gki" path="res://scenes/attack_waves/attack_wave_02.01.tscn" id="12_5pbxc"]
[ext_resource type="PackedScene" uid="uid://du62rpn1bsdkv" path="res://scenes/attack_waves/attack_wave_B01.tscn" id="13_0yd8b"]
[ext_resource type="PackedScene" uid="uid://bf4df2xuc5yhy" path="res://scenes/attack_waves/attack_wave_02.02.tscn" id="13_de0b8"]
[ext_resource type="PackedScene" uid="uid://ctd3wpumtftk6" path="res://scenes/attack_waves/attack_wave_03.01.tscn" id="15_sqdrm"]
[ext_resource type="PackedScene" uid="uid://drp6vfe2y5lkc" path="res://scenes/attack_waves/attack_wave_03.02.tscn" id="16_o3oru"]
[ext_resource type="PackedScene" uid="uid://cs2fsr3v23v85" path="res://scenes/attack_waves/attack_wave_04.01.tscn" id="17_ko5cc"]
[ext_resource type="PackedScene" uid="uid://cxkjdpg6wjw31" path="res://scenes/attack_waves/attack_wave_10.01.tscn" id="18_st0n8"]
[ext_resource type="PackedScene" uid="uid://bhd8httx1rh0w" path="res://scenes/attack_waves/attack_wave_02.03.tscn" id="19_xj7dd"]
[ext_resource type="PackedScene" uid="uid://dfoaaqydn6rhb" path="res://scenes/plane_2d.tscn" id="29_tqvap"]

[sub_resource type="Environment" id="Environment_afcjq"]
ambient_light_source = 2
ambient_light_color = Color(0.843137, 0.917647, 1, 1)
ambient_light_energy = 0.3
tonemap_mode = 1

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_u0sot"]

[sub_resource type="GDScript" id="GDScript_b3vgf"]
script/source = "extends SkeletonIK3D


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	start()
"

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_m5blm"]
normal = Vector2(0, 1)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_v40am"]
normal = Vector2(0, 1)

[node name="World" type="Node3D"]
process_mode = 3
script = ExtResource("1_xm0yb")
wave_resources = Array[PackedScene]([ExtResource("2_gni8t"), ExtResource("3_njpqx"), ExtResource("10_jelau"), ExtResource("5_xup8t"), ExtResource("6_pkfoh"), ExtResource("7_8inxn"), ExtResource("8_nbmmi"), ExtResource("9_1nvwp"), ExtResource("10_pmghl"), ExtResource("11_4w0vp"), ExtResource("12_5pbxc"), ExtResource("13_de0b8"), ExtResource("13_0yd8b"), ExtResource("15_sqdrm"), ExtResource("16_o3oru"), ExtResource("17_ko5cc"), ExtResource("18_st0n8"), ExtResource("19_xj7dd")])
current_wave_index = 14

[node name="HUD" type="CanvasLayer" parent="."]
process_mode = 3

[node name="Menu" parent="HUD" instance=ExtResource("7_mpqx2")]
unique_name_in_owner = true
visible = false

[node name="3D" type="Node3D" parent="."]
process_mode = 3

[node name="Camera3D" type="Camera3D" parent="3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0.885, 0)
fov = 40.0

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="3D"]
transform = Transform3D(0.997198, -6.28367e-08, -0.0748046, 0.0739851, 0.14762, 0.986273, 0.0110426, -0.989044, 0.147206, 0, 0, 0)
light_energy = 0.5
light_angular_distance = 10.0
shadow_enabled = true
shadow_normal_bias = 6.594
shadow_opacity = 0.47
directional_shadow_mode = 1
directional_shadow_max_distance = 1.7
directional_shadow_pancake_size = 10.0
sky_mode = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="3D/DirectionalLight3D"]
environment = SubResource("Environment_afcjq")
camera_attributes = SubResource("CameraAttributesPractical_u0sot")

[node name="BedRoom" parent="3D" instance=ExtResource("4_03kti")]

[node name="arms_low_poly2" parent="3D" instance=ExtResource("5_6uldv")]
transform = Transform3D(-0.4, 0, -6.03983e-08, 0, 0.4, 0, 6.03983e-08, 0, -0.4, -0.185, 0.034417, 0)

[node name="Skeleton3D" parent="3D/arms_low_poly2/metarig" index="0"]
bones/0/rotation = Quaternion(0.260385, 0.648697, 0.651521, 0.294809)
bones/0/scale = Vector3(1, 1, 1)
bones/1/rotation = Quaternion(-0.0223487, 0.712374, 0.0445362, 0.700029)
bones/1/scale = Vector3(1, 1, 1)
bones/2/rotation = Quaternion(0.0240494, 0.924524, -0.0100423, 0.380231)
bones/2/scale = Vector3(1, 1, 1)
bones/3/rotation = Quaternion(-0.0100197, -0.00697608, -0.121815, 0.992478)
bones/3/scale = Vector3(1, 1, 1)
bones/4/rotation = Quaternion(-0.0211532, 0.00267015, 0.103276, 0.994424)
bones/5/rotation = Quaternion(0.0356589, 0.000275148, 0.00683111, 0.999341)
bones/6/rotation = Quaternion(-0.00564489, 0.000290079, 0.00412169, 0.999976)
bones/7/rotation = Quaternion(0.0776279, -0.315748, -0.196801, 0.924958)
bones/7/scale = Vector3(1, 1, 1)
bones/8/rotation = Quaternion(-0.00459378, -0.110007, 0.0033845, 0.993915)
bones/9/rotation = Quaternion(0.0991972, -0.0421728, 0.0665962, 0.991941)
bones/10/rotation = Quaternion(-0.0653256, -6.07996e-05, -0.0325167, 0.997334)
bones/10/scale = Vector3(1, 1, 1)
bones/11/rotation = Quaternion(0.0497114, -0.00026101, 0.0189557, 0.998584)
bones/11/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(0.00836699, 0.000111732, 0.00251701, 0.999962)
bones/12/scale = Vector3(1, 1, 1)
bones/13/rotation = Quaternion(0.0153467, 0.000298947, 0.00438571, 0.999873)
bones/14/rotation = Quaternion(-0.0641549, 0.000119465, 0.0387144, 0.997189)
bones/15/rotation = Quaternion(0.025976, 0.0020476, -0.0582053, 0.997965)
bones/15/scale = Vector3(1, 1, 1)
bones/16/rotation = Quaternion(0.0542033, 0.000482808, 0.0106995, 0.998472)
bones/16/scale = Vector3(1, 1, 1)
bones/17/rotation = Quaternion(0.00214962, 0.000216537, 0.00212696, 0.999995)
bones/17/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(2.70868e-05, 0.00798379, 0.118374, 0.992937)
bones/18/scale = Vector3(1, 1, 1)
bones/19/rotation = Quaternion(-0.0292815, -0.00517808, -0.136928, 0.990135)
bones/20/rotation = Quaternion(0.0231409, -7.45622e-05, -0.00237456, 0.999729)
bones/20/scale = Vector3(1, 1, 1)
bones/21/rotation = Quaternion(0.0435532, 0.00104457, 0.0106143, 0.998994)
bones/22/rotation = Quaternion(-0.260385, 0.648697, 0.651521, -0.294809)
bones/22/scale = Vector3(1, 1, 1)
bones/23/rotation = Quaternion(-0.0223487, -0.712374, -0.0445362, 0.700029)
bones/23/scale = Vector3(1, 1, 1)
bones/24/rotation = Quaternion(-0.0240494, 0.924524, -0.0100423, -0.380231)
bones/24/scale = Vector3(1, 1, 1)
bones/25/rotation = Quaternion(-0.0100197, 0.00697608, 0.121815, 0.992478)
bones/25/scale = Vector3(1, 1, 1)
bones/26/rotation = Quaternion(0.365094, -0.020186, -0.0856593, 0.926802)
bones/27/rotation = Quaternion(0.614878, -0.00422957, -0.00537232, 0.788593)
bones/28/rotation = Quaternion(0.356968, -0.0017638, -0.00373626, 0.934108)
bones/29/rotation = Quaternion(-0.0311403, 0.573497, 0.347266, 0.741308)
bones/29/scale = Vector3(1, 1, 1)
bones/30/rotation = Quaternion(0.0630795, -0.0268256, -0.000901115, 0.997648)
bones/31/rotation = Quaternion(0.330605, 0.0252565, -0.0746712, 0.940472)
bones/32/rotation = Quaternion(-0.0653256, 6.07996e-05, 0.0325167, 0.997334)
bones/32/scale = Vector3(1, 1, 1)
bones/33/rotation = Quaternion(0.43936, -0.00723403, -0.0175228, 0.898111)
bones/33/scale = Vector3(1, 1, 1)
bones/34/rotation = Quaternion(0.57456, -0.00152024, -0.00200783, 0.818459)
bones/34/scale = Vector3(1, 1, 1)
bones/35/rotation = Quaternion(0.376819, -0.00186819, -0.00397923, 0.926277)
bones/36/rotation = Quaternion(-0.0641549, -0.000119465, -0.0387144, 0.997189)
bones/37/rotation = Quaternion(0.407822, 0.0204971, 0.0545148, 0.911202)
bones/37/scale = Vector3(1, 1, 1)
bones/38/rotation = Quaternion(0.569581, -0.00602107, -0.00885856, 0.821866)
bones/38/scale = Vector3(1, 1, 1)
bones/39/rotation = Quaternion(0.36424, -0.000972564, -0.00190366, 0.931303)
bones/39/scale = Vector3(1, 1, 1)
bones/40/rotation = Quaternion(2.70868e-05, -0.00798379, -0.118374, 0.992937)
bones/40/scale = Vector3(1, 1, 1)
bones/41/rotation = Quaternion(0.353804, 0.0574459, 0.124403, 0.925228)
bones/42/rotation = Quaternion(0.604966, 0.0014523, 0.00187972, 0.796248)
bones/42/scale = Vector3(1, 1, 1)
bones/43/rotation = Quaternion(0.402469, -0.00481868, -0.0095148, 0.915372)

[node name="Arm" parent="3D/arms_low_poly2/metarig/Skeleton3D" index="0"]
surface_material_override/0 = ExtResource("6_d81i7")

[node name="SkeletonIK3D" type="SkeletonIK3D" parent="3D/arms_low_poly2/metarig/Skeleton3D" index="1"]
root_bone = &"upper_arm.L"
tip_bone = &"hand.L"
target_node = NodePath("../../../../../2D/PlayerPlane/3D/HandPose")
min_distance = 0.003
max_iterations = 20
script = SubResource("GDScript_b3vgf")

[node name="2D" type="Node2D" parent="."]
process_mode = 1

[node name="WorldBoundary" type="StaticBody2D" parent="2D" groups=["world_boundary"]]
position = Vector2(683, 384)

[node name="CollisionShape2D" type="CollisionShape2D" parent="2D/WorldBoundary"]
position = Vector2(0, -350)
shape = SubResource("WorldBoundaryShape2D_m5blm")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="2D/WorldBoundary"]
position = Vector2(0, 350)
rotation = -3.14159
shape = SubResource("WorldBoundaryShape2D_v40am")

[node name="PlayerBoundary" type="StaticBody2D" parent="2D" groups=["world_boundary"]]
position = Vector2(683, 384)
collision_layer = 128
collision_mask = 2

[node name="CollisionShape2D3" type="CollisionShape2D" parent="2D/PlayerBoundary"]
position = Vector2(50, -2.10518e-06)
rotation = 1.5708
shape = SubResource("WorldBoundaryShape2D_v40am")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="2D/PlayerBoundary"]
position = Vector2(-743, -2)
rotation = -1.5708
shape = SubResource("WorldBoundaryShape2D_v40am")

[node name="PlayerPlane" parent="2D" instance=ExtResource("29_tqvap")]
unique_name_in_owner = true
position = Vector2(269, 382)

[node name="Weapon" parent="2D/PlayerPlane/3D/WeaponPositions/Weapon1" index="0" instance=ExtResource("2_01kl4")]
weapon_spec = ExtResource("3_a6i1r")

[node name="Weapon2" parent="2D/PlayerPlane/3D/WeaponPositions/Weapon3" index="0" instance=ExtResource("2_01kl4")]
weapon_spec = ExtResource("5_08cbb")

[node name="CanvasModulate2D" type="CanvasModulate" parent="."]
unique_name_in_owner = true
process_mode = 3

[editable path="3D/arms_low_poly2"]
[editable path="2D/PlayerPlane"]
